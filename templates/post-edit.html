{% extends 'base.html' %}

{% block content %} 
<h2>Edit {{ post.title }} for {{ post.users_posts.get_full_name() }}</h2>
<form class="edit-post" action="/posts/{{ post.id }}/edit" method="POST">
    <div class="form-group">
      <label for="title">Title:</label>
      <input type="text" class="form-control" id="title"  name="title" placeholder="{{ post.title }}" minlength="2" maxlength="100">
    </div>
    <div class="form-group">
      <label for="content">Content:</label>
      <input type="textarea" class="form-control" id="content" name="content" placeholder="{{ post.content }}">
    </div>
    <p>Tags:</p>
    {% for tag in tags %}
        {% if tag in post.tags %}
    <div class="form-group"> 
        <input type="checkbox" id="{{ tag.tag }}" name="tag-keys" value="{{ tag.tag }}" checked>
        <label for="{{ tag.tag }}">{{ tag.tag }}</label>
      </div>
      {% else %}
      <div class="form-group"> 
        <input type="checkbox" id="{{ tag.tag }}" name="tag-keys" value="{{ tag.tag }}">
        <label for="{{ tag.tag }}">{{ tag.tag }}</label>
      </div>
      {% endif %}
      {% endfor %}
    <a href="/users/{{ post.users_posts.id }}" class='btn btn-info'>Cancel</a>
    <button type="submit" class="btn btn-secondary">Submit Changes</button>
  </form>

  
  {% endblock %}